#!/usr/bin/env php
<?php
	define("ROOT", __DIR__ . "/../");

	include_once(ROOT . "bin/init.php");

	dump($argv);
	dump(getopt("p::o::"));
	die();

	use App\Intcode\VirtualMachine;

	$options = getopt("f:", array("filename:"));

	if (!$options['f'] && !$options['filename'])
	{
		throw new Exception("Missing Filename");
	}

	$filename = isset($options['f']) ? $options['f'] : $options['filename'];

	$helper = new VirtualMachine();

	$helper->debug = true;

	$helper->load($filename);
	$helper->run();

	echo($helper->output());
?>
